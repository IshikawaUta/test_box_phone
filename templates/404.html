{% extends "base.html" %}

{% block head %}
    {{ super() }}
    <style>
        .error-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
            text-align: center;
            padding: 20px;
            overflow: hidden;
            background-color: #f8f9fa;
        }

        .error-title {
            font-size: 8rem;
            font-weight: 700;
            color: #21c0b3;
            margin: 0;
            animation: bounce 1s ease-in-out infinite alternate;
        }

        @keyframes bounce {
            from {
                transform: translateY(0);
            }
            to {
                transform: translateY(-20px);
            }
        }

        .typing-effect {
            font-size: 1rem;
            color: #21c0b3;
            margin-bottom: 1.5rem;
            font-family: monospace;
            white-space: nowrap;
            overflow: hidden;
            display: inline-block;
        }

        .typing-effect::after {
            content: '|';
            animation: blink-caret .75s step-end infinite;
        }

        @keyframes blink-caret {
            from, to { color: transparent }
            50% { color: #000080; }
        }
    </style>
{% endblock %}

{% block content %}
<div class="error-container">
    <h1 class="error-title">404</h1>
    <p id="typing-text" class="typing-effect"></p>
    <a href="{{ url_for('index') }}" class="btn btn-outline-primary btn-lg mt-3" style="font-size: 1rem;">Kembali ke Beranda</a>
</div>

<script>
    const typingElement = document.getElementById("typing-text");
    const phrases = ["Maaf, halaman yang Anda cari tidak dapat ditemukan."];
    let phraseIndex = 0;
    let charIndex = 0;
    let isDeleting = false;

    function typeEffect() {
        const currentPhrase = phrases[phraseIndex];
        const currentText = currentPhrase.substring(0, charIndex);
        typingElement.textContent = currentText;

        if (!isDeleting) {
            charIndex++;
            if (charIndex > currentPhrase.length) {
                isDeleting = true;
                setTimeout(typeEffect, 1500);
            } else {
                setTimeout(typeEffect, 80);
            }
        } else {
            charIndex--;
            if (charIndex < 0) {
                isDeleting = false;
                phraseIndex = (phraseIndex + 1) % phrases.length;
                setTimeout(typeEffect, 500);
            } else {
                setTimeout(typeEffect, 50);
            }
        }
    }

    document.addEventListener("DOMContentLoaded", () => {
        typeEffect();
    });
</script>
{% endblock %}